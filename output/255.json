{
    "data": {
        "id": 255,
        "call_id": "019b19b2-0e09-7000-a00c-677c15be593f",
        "created": "2025-12-13T21:50:58.511764",
        "phone_number": "+918098444187",
        "status": "completed",
        "prompt": "<ai_master_prompt>\n  <critical_directive>You are a voice AI receptionist. Keep replies under 12 words. Do not give medical advice.</critical_directive>\n  <metadata>\n    <service_name>Doctor Booking System</service_name>\n    <agent_name>Receptionist</agent_name>\n    <language>Indian English</language>\n  </metadata>\n  <Persona>\n    <Identity>Efficient Hospital Receptionist</Identity>\n    <Tone>Professional, Direct, Polite</Tone>\n    <VocalStyle>\n      <Instruction>Speak naturally with Indian intonation</Instruction>\n      <Instruction>Maintain a steady, efficient pace</Instruction>\n    </VocalStyle>\n  </Persona>\n  <vocal_output_constraints>\n    <rule type=\"absolute\">Strictly no more than 12 words per response</rule>\n    <rule type=\"absolute\">No special characters or markdown</rule>\n    <rule type=\"pacing\">Wait for user to finish, then respond immediately</rule>\n  </vocal_output_constraints>\n  <context>\n    <user_phone>+918098444187</user_phone>\n    <hospital_roster>\n      <doc><name>Dr. Sharma</name><spec>General Medicine</spec><slots>10am-2pm</slots></doc>\n      <doc><name>Dr. Anita</name><spec>Cardiology</spec><slots>4pm-6pm</slots></doc>\n      <doc><name>Dr. Raj</name><spec>Dermatology</spec><slots>11am-1pm</slots></doc>\n      <doc><name>Dr. Priya</name><spec>Orthopedics</spec><slots>2pm-5pm</slots></doc>\n      <doc><name>Dr. Khan</name><spec>Pediatrics</spec><slots>9am-12pm</slots></doc>\n    </hospital_roster>\n  </context>\n  <instructions>\n    1. Greet and ask for the patient's full name.\n    2. IF <target_doctor> is defined: Offer that specific slot. (Skip to step 5).\n    3. ELSE: Ask Symptoms.\n    4. Map Symptoms -> Specialty (Fever=GenMed, Heart=Cardio, Skin=Derma, Bone=Ortho, Child=Pediatrics).\n    5. Select matching doctor from <hospital_roster> and offer their slot.\n    6. Confirm details (Name, Doctor, Time) and ask 'Is this correct?'.\n    7. IF user says YES: Say 'Great! Your appointment is confirmed. You will receive an SMS/WhatsApp shortly.'\n    8. Ask 'Do you need help with anything else?'\n    9. IF user says NO: Say 'Goodbye!' and call end_call(reason='Booked').\n  </instructions>\n</ai_master_prompt>",
        "evaluation_tool": {
            "name": "call_outcomes",
            "behavior": "BLOCKING",
            "parameters": {
                "type": "OBJECT",
                "required": [
                    "booked",
                    "name",
                    "symptoms",
                    "specialty"
                ],
                "properties": {
                    "date": {
                        "type": "STRING",
                        "description": "Date"
                    },
                    "name": {
                        "type": "STRING",
                        "description": "Name"
                    },
                    "time": {
                        "type": "STRING",
                        "description": "Time"
                    },
                    "booked": {
                        "type": "BOOLEAN",
                        "description": "Booked"
                    },
                    "symptoms": {
                        "type": "STRING",
                        "description": "Symptoms"
                    },
                    "specialty": {
                        "type": "STRING",
                        "description": "Specialty"
                    }
                }
            },
            "description": "Capture details"
        },
        "exotel_id": "b824537575aea23c30f7a30bd6ac19ce",
        "call_details": {
            "callId": "019b19b2-0e09-7000-a00c-677c15be593f",
            "events": [
                {
                    "data": {
                        "exotelCallId": "b824537575aea23c30f7a30bd6ac19ce"
                    },
                    "event": "call-initiated",
                    "timestamp": 1765662658511
                },
                {
                    "data": {},
                    "event": "websocket-established",
                    "timestamp": 1765662668677
                },
                {
                    "data": {},
                    "event": "gemini-session-ready",
                    "timestamp": 1765662668848
                },
                {
                    "data": {},
                    "event": "greeting-complete",
                    "timestamp": 1765662670977
                },
                {
                    "data": {
                        "source": "gemini-ws",
                        "funcCall": {
                            "id": "function-call-14771797571324320831",
                            "args": {
                                "reason": "Booked"
                            },
                            "name": "end_call"
                        }
                    },
                    "event": "tool-call",
                    "timestamp": 1765662795731
                },
                {
                    "data": {
                        "reason": "Booked",
                        "source": "tool-handler"
                    },
                    "event": "termination-requested",
                    "timestamp": 1765662795731
                },
                {
                    "data": {
                        "source": "system"
                    },
                    "event": "evaluation-start",
                    "timestamp": 1765662795736
                },
                {
                    "data": {
                        "reason": "completed",
                        "source": "exotel-http"
                    },
                    "event": "termination-requested",
                    "timestamp": 1765662797368
                },
                {
                    "data": {
                        "source": "gemini-ws",
                        "funcCall": {
                            "id": "function-call-4054478087916003777",
                            "args": {
                                "date": "day after tomorrow",
                                "name": "Amitabh Singh",
                                "time": "2pm",
                                "booked": true,
                                "symptoms": "headache",
                                "specialty": "General Medicine"
                            },
                            "name": "call_outcomes"
                        }
                    },
                    "event": "tool-call",
                    "timestamp": 1765662798588
                },
                {
                    "data": {
                        "source": "tool-handler"
                    },
                    "event": "call-outcome-completed",
                    "timestamp": 1765662798588
                },
                {
                    "data": {
                        "source": "gemini-ws",
                        "funcCall": {
                            "id": "function-call-826455182928771608",
                            "args": {
                                "summary": "Amitabh Singh booked a General Medicine appointment with Dr. Sharma for day after tomorrow at 2pm for a headache."
                            },
                            "name": "call_summary"
                        }
                    },
                    "event": "tool-call",
                    "timestamp": 1765662799242
                },
                {
                    "data": {
                        "source": "tool-handler"
                    },
                    "event": "call-summary-completed",
                    "timestamp": 1765662799242
                },
                {
                    "data": {
                        "source": "system",
                        "evaluationData": {
                            "callSummary": {
                                "summary": "Amitabh Singh booked a General Medicine appointment with Dr. Sharma for day after tomorrow at 2pm for a headache."
                            },
                            "callOutcomes": {
                                "date": "day after tomorrow",
                                "name": "Amitabh Singh",
                                "time": "2pm",
                                "booked": true,
                                "symptoms": "headache",
                                "specialty": "General Medicine"
                            }
                        }
                    },
                    "event": "evaluation-completed",
                    "timestamp": 1765662799242
                }
            ],
            "llmNotes": [],
            "toolCalls": [
                {
                    "toolName": "end_call",
                    "timestamp": 1765662795731
                },
                {
                    "toolName": "call_outcomes",
                    "timestamp": 1765662798588
                },
                {
                    "toolName": "call_summary",
                    "timestamp": 1765662799242
                }
            ],
            "phaseHistory": [
                {
                    "to": "connecting",
                    "from": "initiated",
                    "metadata": {},
                    "timestamp": 1765662668677
                },
                {
                    "to": "active",
                    "from": "connecting",
                    "metadata": {},
                    "timestamp": 1765662670977
                },
                {
                    "to": "evaluating",
                    "from": "active",
                    "metadata": {
                        "reason": "Booked",
                        "source": "tool-handler"
                    },
                    "timestamp": 1765662795736
                },
                {
                    "to": "terminated",
                    "from": "evaluating",
                    "metadata": {
                        "reason": "Booked",
                        "source": "tool-handler",
                        "callSummaryData": {
                            "summary": "Amitabh Singh booked a General Medicine appointment with Dr. Sharma for day after tomorrow at 2pm for a headache."
                        },
                        "callOutcomesData": {
                            "date": "day after tomorrow",
                            "name": "Amitabh Singh",
                            "time": "2pm",
                            "booked": true,
                            "symptoms": "headache",
                            "specialty": "General Medicine"
                        },
                        "evaluationCompleted": true
                    },
                    "timestamp": 1765662799242
                }
            ],
            "usageMetadata": {
                "totalTokenCount": 5456,
                "promptTokenCount": 5428,
                "responseTokenCount": 28,
                "promptTokensDetails": [
                    {
                        "modality": "TEXT",
                        "tokenCount": 5269
                    },
                    {
                        "modality": "AUDIO",
                        "tokenCount": 159
                    }
                ],
                "responseTokensDetails": [
                    {
                        "modality": "AUDIO",
                        "tokenCount": 28
                    }
                ]
            },
            "callSummaryData": {
                "summary": "Amitabh Singh booked a General Medicine appointment with Dr. Sharma for day after tomorrow at 2pm for a headache."
            },
            "callOutcomesData": {
                "date": "day after tomorrow",
                "name": "Amitabh Singh",
                "time": "2pm",
                "booked": true,
                "symptoms": "headache",
                "specialty": "General Medicine"
            },
            "terminationReason": "Booked",
            "terminationSource": "tool-handler",
            "transcriptionData": {
                "transcripts": [],
                "interruptionTimestamps": [
                    1765662677941,
                    1765662679574,
                    1765662682275,
                    1765662744356,
                    1765662753273,
                    1765662794174
                ],
                "turnCompleteTimestamps": [
                    1765662674349,
                    1765662677941,
                    1765662679574,
                    1765662682275,
                    1765662686385,
                    1765662697518,
                    1765662706585,
                    1765662713289,
                    1765662725371,
                    1765662735897,
                    1765662744356,
                    1765662753273,
                    1765662760999,
                    1765662771542,
                    1765662783581,
                    1765662794174
                ],
                "generationCompleteTimestamps": [
                    1765662672355,
                    1765662685128,
                    1765662693135,
                    1765662703013,
                    1765662712042,
                    1765662719890,
                    1765662731299,
                    1765662741789,
                    1765662750340,
                    1765662757527,
                    1765662766021,
                    1765662778492,
                    1765662788294
                ]
            }
        }
    },
    "status": "success",
    "status_code": 200,
    "action_code": "DO_NOTHING"
}